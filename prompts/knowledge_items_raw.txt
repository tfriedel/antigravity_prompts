# KI Retrieval Workflow
Knowledge Items (KIs) are collections of related artifacts and metadata on a specific topic, stored in %s. Each KI has:
## KI Creation Workflow
## KI Structure
Each KI in {{ KnowledgeDirectoryPath }} contains:
## KIs are Starting Points, Not Ground Truth
KIs contain curated knowledge on specific topics. Individual KIs can be updated or expanded over multiple conversations. They are generated by a separate KNOWLEDGE SUBAGENT that reads the conversations and then distills the information into new KIs or updates existing KIs as appropriate.
-%kI
-kI&
-*[]*jetski_cortex_go_proto.ImplicitTrajectory
-*codeium_common_go_proto.PromptAnnotationKind
-*codeium_common_go_proto.WorkingDirectoryInfo
-*[]struct { key string; elem []*http.Cookie }
-google3/third_party/jetski/cortex/utils/utils
-*func(*cortex_go_proto.FastApplyFallbackInfo)
-*jetski_cortex_go_proto.CortexStepUpdate_Step
-google3/third_party/jetski/cortex/state/state
-*playwright.BrowserContextClearCookiesOptions
-*func(...string) ([]playwright.Cookie, error)
-google3/third_party/jetski/cortex/tools/tools
-*func() *tool_go_proto.VertexRagStore_Ranking
5. You may not edit file extensions: [%s]Retrieves a specified resource's contents.crypto/rsa: salt length cannot be negativepoly1305: write to MAC after Sum or Verify%q is not a valid label name for metric %qNumber of goroutines that currently exist.called Float64 on non-float64 metric valueencountered MetricFamily with invalid typecollected metric %s %s should be a Countercollected metric %s %s should be a Summaryexemplar label value %q is not valid UTF-8=======End of executeStepsRecursive=======failed to generate browser recording videoDid not record screen dimensions for clickimage generation failed: no image returnedUnable to find code item in the input fileFailed to update access time for KI %s: %vThe user has not defined any custom rules.varint,63003,opt,name=goproto_stringer_allvarint,63019,opt,name=stable_marshaler_allvarint,63023,opt,name=unsafe_marshaler_allvarint,63032,opt,name=goproto_registrationvarint,64026,opt,name=goproto_unrecognizedPrintableString contains invalid characterfile size (%d) does not match src len (%d)No support for lazy fns for ExtensionFieldbytes,10071,opt,name=message_set_extensionquotedprintable: invalid bytes after =: %qdns: error parsing service config json: %vGRPC_XDS_ENDPOINT_HASH_KEY_BACKWARD_COMPATGRPC_EXPERIMENTAL_XDS_BOOTSTRAP_CALL_CREDSsignature creation time in non-hashed areaunknown critical signature subpacket type %#v returned a malformed result for %q: %wgob: encoded unsigned integer out of rangegob: bad data: field numbers out of boundsarray/concat: must pass at least one arrayoffset overflow while concatenating arraysarrow/array: invalid dictionary value typetime32 can only be seconds or millisecondsarrow/ipc: could not read message body: %warrow/ipc: Map's keys must be non-nullableprojects/{+projectId}/jobs/{+jobId}/cancelprojects/{+projectId}/jobs/{+jobId}/deletethe requested hash function is unavailableproto_best_practices.suppress_all_findingstrajectory converted to zero chat messagesAllowing improperly-formatted model outputargument order was not respected: %v vs %sArgument order was not respected: %v vs %sfallback fast apply diff after masking:
- Any other information that you think is important to remember.5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5/exa.seat_management_pb.SeatManagementService/RemoveUserFromTeambad checkpoint state: timeout while waiting for valid checkpointFollow this systematic approach when building web applications:,/exa.user_analytics_pb.UserAnalyticsService/GetPreferredTimeZone/google.internal.cloud.code.v1internal.CloudCode/ListExperimentshttps://cloud.google.com/docs/authentication/external/set-up-adcextension %v has mismatching containing message: got %v, want %v"@" statement is not valid, could be : <refname>@{push}, @{push}decoding array or slice: length exceeds input size (%d elements)min %d items required to match contains schema, but none matchedarrow/array: invalid dictionary index type: %s, must be integralarrow/ipc: floating point type with %d precision not implementedprotoregistry.GlobalFiles.FindFileByPath(%s) failed with err: %vDeprecated. Prefer the identical /sched/pauses/total/gc:seconds.oauth2/google/externalaccount: unable to parse credential sourceoauth2/google/externalaccount: failed to open credential file %qproto.NewUnsafeXXX_InternalExtensions(map[int32]proto.Extension{FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141000000000000000000000000000000000000000000000000000000000000000779BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8A9FB57DBA1EEA9BC3E660A909D838D726E3BF623D52620282013481D1F6E5377A9FB57DBA1EEA9BC3E660A909D838D718C397AA3B561A6F7901E0E82974856A7662C61C430D84EA4FE66A7733D0B76B7BF93EBC4AF2F49256AE58101FEE92B04A3E8EB3CC1CFE7B7732213B23A656149AFA142C47AAFBC2B79A191562E1305F42D996C823439C56D7F7B22E14644417E69BCB6DE39D027001DABE8F35B25C9BE8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F0469973E2D4BD9597B58639AE7AA669CAB9837CF5CF20A2C852D10F655668DFC150EF0neither scopes or audience are available for the self-signed JWTunexpected EOF while attempting to parse expression of form an+bpseudo-element %s found, but pseudo-elements support is disabledliteral count is too big: total available %d, total requested %d/google.cloud.bigquery.storage.v1.BigQueryRead/CreateReadSessionABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+,NewDefaultCredentialsWithOptions: failed to create new creds: %vgrpclb: failed to recv server list: server terminated connectionuser arena chunk size is not a mutliple of the physical page sizeruntime: function marked with #cgo nocallback called back into Goruntime.SetFinalizer: pointer not at beginning of allocated block^third_party/jetski/(?:vcs/|fs/(?:workspace_manager/)?)[^/]+\.go$/public/university_videos/sandbox_content/base/chatCodeLenses.txt/public/university_videos/sandbox_content/base/chatAtMentions.txtUnable to capture a screenshot of the page in Antigravity Browserreflect: StructOf does not support methods of embedded interfacesxml: name %q in tag of %s.%s conflicts with name %q in %s.XMLNameerror %+v (%T) announces proto message, but marshaling fails: %+verrors.As: *target must be interface or implement error, found %Thttp: response.WriteHeader on hijacked connection from %s (%s:%d)net/http: Transport.DialTLS or DialTLSContext returned (nil, nil)Windsurf extension service worker not found after maximum retries/exa.language_server_pb.LanguageServerService/RecordSearchDocOpen/exa.language_server_pb.LanguageServerService/AddTrackedWorkspace/exa.language_server_pb.LanguageServerService/ShouldEnableUnleash/exa.language_server_pb.LanguageServerService/UpdatePRForWorktree/exa.language_server_pb.LanguageServerService/GetDebugDiagnostics/exa.language_server_pb.LanguageServerService/DeleteCascadeMemory/exa.language_server_pb.LanguageServerService/UpdateCascadeMemory/exa.language_server_pb.LanguageServerService/RevertToCascadeStep/exa.language_server_pb.LanguageServerService/SaveScreenRecordingFailed to set capturingScreenshot false in actuation overlay: %+vthird_party/jetski/chat_client_server_pb/chat_client_server.proto/exa.api_server_pb.ApiServerService/GetTeamOrganizationalControls/exa.api_server_pb.ApiServerService/RecordCommitMessageGeneration/exa.api_server_pb.ApiServerService/RecordCortexGeneratorMetadata/exa.api_server_pb.ApiServerService/RecordCortexExecutionMetadata/exa.api_server_pb.ApiServerService/RecordStateInitializationData/exa.api_server_pb.ApiServerService/BatchRecordChatRequestRecords/exa.api_server_pb.ApiServerService/RecordFullTrajectoryAnalytics/exa.api_server_pb.ApiServerService/RecordTrajectorySegmentEventstls: internal error: attempted to read record with QUIC transporttls: server selected an invalid version after a HelloRetryRequesttls: session supported extended_master_secret but client does nottls: second client hello missing encrypted client hello extensionx509: policy constraints inhibitPolicyMapping field overflows intx509: inner and outer signature algorithm identifiers don't matchx509: issuer name does not match subject from issuing certificate\/\/|["']use strict["']|export\s+default\s|\/\*(?:.|[\r\n])*?\*\/^\s*(let|module|type)\s+\w*\s+=\s+|^\s*(?:include|open)\s+\w+\s*$<player.flag[waiting_for_owner_transfer_request_acceptance].name><http://d-nb.info/standards/vocab/gnd/geographic-area-code#XA-DE>application/vnd.openxmlformats-officedocument.spreadsheetml.sheetbinarylogging: message to log is neither proto.message nor []byte/exa.extension_server_pb.ExtensionServerService/SendTerminalInput/exa.extension_server_pb.ExtensionServerService/FindAllReferences/exa.extension_server_pb.ExtensionServerService/EndAudioRecordingunleash server URL %s should no longer link directly to /features
1. If you do not understand some part of the codebase, or makes a hypothesis about the behavior of the code in your thought process, **ALWAYS** verify the hypothesis using test scripts or minimal working examples. For example, if you are not sure about the output of a function, create a test script to call that function and print its output.Search Google's internal documents, also known as Moma.
4. Ignore the blue border overlay and bottom-screen messages (e.g., "Working...", "Thinking...", click warnings) - these are UI elements for the user, not part of the website.
5. When using pixel clicking, your tool call coordinates will be scaled to the browser's actual dimensions when your tool call is processed. Follow your tool call's guidance on which coordinate ranges are acceptable in your output.
5. If you are making multiple edits across a single file, specify multiple separate diffs in the Diff list. DO NOT try to replace the entire existing content with the new content, this is very expensive.PROPOSE a command to run on behalf of the user. Operating System: %s. Shell: %s.
# KI Retrieval Workflow
1. **Search for relevant KIs**: Use %[2]s on the knowledge directory with a semantic search query describing what you are looking for.
2. **Review KI metadata**: Use %[5]s to read %[7]s and understand the KI's scope
3. **Explore relevant artifacts**: Use %[6]s and %[5]s to examine artifacts within the KI
- **%[2]s**: The best tool in general for discovery. Uses an LLM to evaluate the relevance of KIs to your query
- **%[4]s**: Best for file/directory name patterns (e.g. all artifacts or KIs with "knowledge" in their name)
- %[2]s/<KI>/%[3]s
- any location in %[2]s/<KI>/artifacts/
1. **Generation**: Create new KIs to preserve important insights from completed work
2. **Consolidation**: Merge related or overlapping KIs into comprehensive, well-organized knowledge items
3. **Deletion**: Remove outdated, duplicate, or obsolete artifacts and KIs to maintain quality
Knowledge Items (KIs) are collections of related artifacts and metadata on a specific topic, stored in %s. Each KI has:
- The topic is sufficiently distinct from existing KIs
- No existing KI covers this specific area
- Multiple KIs covering the same or heavily overlapping topics
- One or more existing KIs that relate to new insights from the current conversation
- Related information scattered across several KIs
1. Merge content from all related existing KIs AND new findings from this conversation into a single comprehensive KI
3. Delete redundant KI directories using delete_knowledge
- Information is outdated or superseded by newer KIs
- KIs are no longer relevant to the codebase
- Action: Use the delete_knowledge tool to remove deprecated files or KI directories
2..exa.jetski_cortex_pb.CascadeTrajectorySummaryR
5. If you are making multiple edits across a single file, specify multiple separate hunks in the patch. DO NOT try to replace the entire existing content with the new content, this is very expensive.
## KI Creation Workflow
- Use the KI Retrieval Workflow to find KIs covering similar topics
- Read ALL relevant KI metadata and artifacts
- **What is consolidation?** Merging content from multiple related KIs into a single target KI
- **When to consolidate:** KIs cover the same component, feature, or concept
- Add new content from this conversation to the existing KI
- Create new KI with descriptive identifier
- The goal is to make retrieval easy using the KI Retrieval Workflow
2. Do not batch up multiple tasks before marking them as completed.
- [/] Research existing metrics tracking in the codebase <!-- id: 0 -->
- [ ] Implement core metrics tracking functionality <!-- id: 2 -->
- [/] Research existing metrics tracking in the codebase <!-- id: 0 -->
- [ ] Implement core metrics tracking functionality <!-- id: 2 -->
- [x] Research existing metrics tracking in the codebase <!-- id: 0 -->
- [ ] Implement core metrics tracking functionality <!-- id: 2 -->
1. **Review the KI summaries** already provided to you at conversation start
2. **Identify relevant KIs** by checking if any KI titles/summaries match your task
3. **Read relevant KI artifacts** using the artifact paths listed in the summaries BEFORE doing independent research
4. **Build upon KI** by using the information from the KIs to inform your own research
- **Before ANY research or analysis** - FIRST check if a KI already exists on this topic
- **Before creating documentation** - Verify no existing KI covers this to avoid duplication
- **When you see a relevant KI in summaries** - If a KI title matches the request, READ the artifacts FIRST
- **When encountering new concepts** - Search for related KIs to build context
- **When referenced in context** - Retrieve KIs mentioned in conversations or other KIs
- **Before debugging unexpected behavior** - Check if there are KIs documenting known bugs or gotchas
- **When experiencing resource issues** (memory, file handles, connection limits) - Check for best practices KIs
- **When config changes don't take effect** - Check for KIs documenting configuration precedence/override mechanisms
- **When utility functions behave unexpectedly** - Check for KIs about known bugs in common utilities
- **When planning multi-phase work** - Check for workflow example KIs
- **When uncertain about approach** - Check for similar past implementations documented in KIs
- **Before integrating components** - Check for integration pattern KIs
## KI Structure
Each KI in {{ KnowledgeDirectoryPath }} contains:
## KIs are Starting Points, Not Ground Truth
- **Expect gaps:** KIs may not cover all aspects. Supplement with your own investigation
- **Question everything:** Treat KIs as clues that must be verified and supplemented
- **Ask for clarification**. If you are unsure about the USER's intent, always ask for clarification rather than making assumptions.
- **Ask for clarification**. If you are unsure about the USER's intent, always ask for clarification rather than making assumptions.
- **Helpfulness**. Respond like a helpful software engineer who is explaining your work to a friendly collaborator on the project. Acknowledge mistakes or any backtracking you do as a result of new information.
- **Ask for clarification**. If you are unsure about the USER's intent, always ask for clarification rather than making assumptions.
- Breaking changes or significant design decisions
- **Be specific**: The most important point here is to have **CONCRETE** terminal commands (whether it's building a binary or running a unit test or kicking off a remote job etc.) or the list of tool calls you will use to verify the change. If you are going to add tests you MUST provide concretely WHAT these tests are and HOW specifically these tests will run (ie what specific terminal commands to run). These instructions MUST be followable by another agent that doesn't have context on the work.
- **Be creative**: You can always be creative about how to verify your change, using tools like browser use, parallel terminal commands, or even asking the user to perform certain actions on the computer for you.
- **Research more if needed**: In order to achieve the above, if you are lacking information you should continue doing research to understand what and how to verify your changes.
2. Knowledge Items (KIs), containing distilled knowledge on specific topics
2. When the conversation is referenced by a KI or another conversation, and you know from the summary that the conversation is not relevant to the current context.
KIs contain curated knowledge on specific topics. Individual KIs can be updated or expanded over multiple conversations. They are generated by a separate KNOWLEDGE SUBAGENT that reads the conversations and then distills the information into new KIs or updates existing KIs as appropriate.
1. When starting any kind of research
2. When a KI appears to cover a topic that is relevant to the current conversation
3. When a KI is referenced by a conversation or another KI, and the title of the KI looks relevant to the current conversation.
2..exa.jetski_cortex_pb.CascadeTrajectorySummaryR
2..exa.jetski_cortex_pb.CascadeTrajectorySummaryR
2..exa.jetski_cortex_pb.BaseTrajectoryIdentifierR
2..exa.jetski_cortex_pb.CascadeTrajectorySummaryR
4.exa.language_server_pb.SetWorkingDirectoriesRequest
5.exa.language_server_pb.SetWorkingDirectoriesResponse"
4.exa.language_server_pb.GetWorkingDirectoriesRequest
5.exa.language_server_pb.GetWorkingDirectoriesResponse"
-.exa.language_server_pb.SkipOnboardingRequest
2..exa.codeium_common_pb.BrowserClickInteractionH
